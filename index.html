<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scale=no, target-densitydpi=medium-dpi">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>grayblue</title>
	<link rel="stylesheet" type="text/css" href="css/common.css">
</head>

<body>
<div class="wrapper">
	<ul class="nav">
		<li><a href="#intro" title="Next Section"></a></li>
		<li><a href="#second" title="Next Section"></a></li>
		<li><a href="#third" title="Next Section"></a></li>
		<li><a href="#four" title="Next Section"></a></li>
		<li><a href="#fifth" title="Next Section"></a></li>
		<li><a href="#six" title="Next Section"></a></li>
		<li><a href="#seven" title="Next Section"></a></li>
	</ul>

	<!-- 첫째 영역 -->
	<div id="intro" class="parallax-box slide-area">
		<div class="slide-box box1"></div>
		<div class="slide-box box2"></div>
		<div class="slide-box box3"></div>
		<div class="slide-box box4"></div>
		<div class="slide-box box5"></div>
		<div class="slide-box box6"></div>
		<div class="slide-box box7"></div>
	</div>

	<!-- 두번째 영역 -->
	<div id="second" class="parallax-box slide-area">
		<!--
		<div class="bg"></div>
		-->
		<div class="slide-box box1"></div>
		<div class="slide-box box2"></div>
		<div class="slide-box box3"></div>
		<div class="slide-box box4"></div>
		<div class="slide-box box5"></div>
		<div class="slide-box box6"></div>
		<div class="slide-box box7"></div>
	</div>

	<!-- 세번째 영역 -->
	<div id="third" class="parallax-box slide-area">
		<div class="slide-box box1"></div>
		<div class="slide-box box2"></div>
		<div class="slide-box box3"></div>
		<div class="slide-box box4"></div>
		<div class="slide-box box5"></div>
		<div class="slide-box box6"></div>
		<div class="slide-box box7"></div>
	</div>

	<!-- 네번째 영역 -->
	<div id="four" class="parallax-box slide-area">
		<div class="slide-box box1"></div>
		<div class="slide-box box2"></div>
		<div class="slide-box box3"></div>
		<div class="slide-box box4"></div>
		<div class="slide-box box5"></div>
		<div class="slide-box box6"></div>
		<div class="slide-box box7"></div>
	</div>

	<!-- 다섯번째 영역 -->
	<div id="fifth" class="parallax-box slide-area">
		<div class="slide-box box1"></div>
		<div class="slide-box box2"></div>
		<div class="slide-box box3"></div>
		<div class="slide-box box4"></div>
		<div class="slide-box box5"></div>
		<div class="slide-box box6"></div>
		<div class="slide-box box7"></div>
	</div>

	<!-- 여섯번째 영역 -->
	<div id="six" class="parallax-box slide-area">
		<div class="slide-box box1"></div>
		<div class="slide-box box2"></div>
		<div class="slide-box box3"></div>
		<div class="slide-box box4"></div>
		<div class="slide-box box5"></div>
		<div class="slide-box box6"></div>
		<div class="slide-box box7"></div>
	</div>

	<!-- 일곱번째 영역 -->
	<div id="seven" class="parallax-box slide-area">
		<div class="slide-box box1"></div>
		<div class="slide-box box2"></div>
		<div class="slide-box box3"></div>
		<div class="slide-box box4"></div>
		<div class="slide-box box5"></div>
		<div class="slide-box box6"></div>
		<div class="slide-box box7"></div>
	</div>
</div>

<!-- Script -->
<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>

<script type="text/javascript" src="js/jquery.parallax-1.1.3.js"></script>
<script type="text/javascript" src="js/jquery.localscroll-1.2.7-min.js"></script>
<script type="text/javascript" src="js/jquery.scrollTo-1.4.2-min.js"></script>
<script>
$(window).load(function(){
	$('.nav').localScroll(500);

	$('#intro .slide-box').parallax("50%", 0.3);
	$('#second .slide-box').parallax("50%", 0.3);
	$('#third .slide-box').parallax("50%", 0.3);
	$('#four .slide-box').parallax("50%", 0.3);
	$('#fifth .slide-box').parallax("50%", 0.3);
	$('#six .slide-box').parallax("50%", 0.3);
	$('#seven .slide-box').parallax("50%", 0.3);

	//$('#second .bg').parallax("50%", 0.4);

	$(window).scroll(function(){
		var winScroll = $(window).scrollTop();
		var $direct=$('.parallax-box');
		$direct.each(function(index){
			$directOffset=$direct.eq(index).offset().top - 300;
			if (winScroll >= $directOffset) {
				$('.nav li').eq(index).addClass('on').siblings().removeClass('on');
			}
		});

		//마지막 컨텐츠
		if(winScroll == $(document).height()-$(window).height()){
			$('.nav li:last-child').addClass('on').siblings().removeClass('on');
		}
	});
	$(window).scroll();// 윈도우 로딩 시 스크롤 호출



	$('.slide-area').each(function(){
		var boxLen = $(this).find('.slide-box').length;
		if(boxLen >= 2){
			$(this).append('<button type="button" class="btn-prev" style="display:none;">이전</button><button type="button" class="btn-next">다음</button>');
		}
	});

	// 첫번째 슬라이드 영역
	var pgVar01 = 0;
	$('#intro button').click( function(){
		var boxLen = $(this).parents('#intro').find('.slide-box').length;
		if($(this).hasClass('btn-next')){
			if(pgVar01 < boxLen - 1){
				pgVar01++;
				$(this).parents('#intro').find('.slide-box').animate({'left':'-=100%'},300);
				$(this).parents('#intro').find('.btn-prev').show();
				if(pgVar01 == boxLen - 1){
					$(this).parents('#intro').find('.btn-next').hide();
				}
				console.log(pgVar01);
			};
		} else {
			if(pgVar01 > 0){
				pgVar01--;
				$(this).parents('#intro').find('.slide-box').animate({'left':'+=100%'},300);
			};
			$(this).parents('#intro').find('.btn-next').show();
			if(pgVar01 == 0){
				$(this).parents('#intro').find('.btn-prev').hide();
			}
		};
	});

	// 두번째 슬라이드 영역
	var pgVar02 = 0;
	$('#second button').click( function(){
		var boxLen = $(this).parents('#second').find('.slide-box').length;
		if($(this).hasClass('btn-next')){
			if(pgVar02 < boxLen - 1){
				pgVar02++;
				$(this).parents('#second').find('.slide-box').animate({'left':'-=100%'},300);
				$(this).parents('#second').find('.btn-prev').show();
				if(pgVar02 == boxLen - 1){
					$(this).parents('#second').find('.btn-next').hide();
				}
				console.log(pgVar02);
			};
		} else {
			if(pgVar02 > 0){
				pgVar02--;
				$(this).parents('#second').find('.slide-box').animate({'left':'+=100%'},300);
			};
			$(this).parents('#second').find('.btn-next').show();
			if(pgVar02 == 0){
				$(this).parents('#second').find('.btn-prev').hide();
			}
		};
	});

	// 세번째 슬라이드 영역
	var pgVar03 = 0;
	$('#third button').click( function(){
		var boxLen = $(this).parents('#third').find('.slide-box').length;
		if($(this).hasClass('btn-next')){
			if(pgVar03 < boxLen - 1){
				pgVar03++;
				$(this).parents('#third').find('.slide-box').animate({'left':'-=100%'},300);
				$(this).parents('#third').find('.btn-prev').show();
				if(pgVar03 == boxLen - 1){
					$(this).parents('#third').find('.btn-next').hide();
				}
				console.log(pgVar03);
			};
		} else {
			if(pgVar03 > 0){
				pgVar03--;
				$(this).parents('#third').find('.slide-box').animate({'left':'+=100%'},300);
			};
			$(this).parents('#third').find('.btn-next').show();
			if(pgVar03 == 0){
				$(this).parents('#third').find('.btn-prev').hide();
			}
		};
	});

	// 네번째 슬라이드 영역
	var pgVar04 = 0;
	$('#four button').click( function(){
		var boxLen = $(this).parents('#four').find('.slide-box').length;
		if($(this).hasClass('btn-next')){
			if(pgVar04 < boxLen - 1){
				pgVar04++;
				$(this).parents('#four').find('.slide-box').animate({'left':'-=100%'},300);
				$(this).parents('#four').find('.btn-prev').show();
				if(pgVar04 == boxLen - 1){
					$(this).parents('#four').find('.btn-next').hide();
				}
				console.log(pgVar04);
			};
		} else {
			if(pgVar04 > 0){
				pgVar04--;
				$(this).parents('#four').find('.slide-box').animate({'left':'+=100%'},300);
			};
			$(this).parents('#four').find('.btn-next').show();
			if(pgVar04 == 0){
				$(this).parents('#four').find('.btn-prev').hide();
			}
		};
	});

	// 다섯번째 슬라이드 영역
	var pgVar05 = 0;
	$('#fifth button').click( function(){
		var boxLen = $(this).parents('#fifth').find('.slide-box').length;
		if($(this).hasClass('btn-next')){
			if(pgVar05 < boxLen - 1){
				pgVar05++;
				$(this).parents('#fifth').find('.slide-box').animate({'left':'-=100%'},300);
				$(this).parents('#fifth').find('.btn-prev').show();
				if(pgVar05 == boxLen - 1){
					$(this).parents('#fifth').find('.btn-next').hide();
				}
				console.log(pgVar05);
			};
		} else {
			if(pgVar05 > 0){
				pgVar05--;
				$(this).parents('#fifth').find('.slide-box').animate({'left':'+=100%'},300);
			};
			$(this).parents('#fifth').find('.btn-next').show();
			if(pgVar05 == 0){
				$(this).parents('#fifth').find('.btn-prev').hide();
			}
		};
	});

	// 여섯번째 슬라이드 영역
	var pgVar06 = 0;
	$('#six button').click( function(){
		var boxLen = $(this).parents('#six').find('.slide-box').length;
		if($(this).hasClass('btn-next')){
			if(pgVar06 < boxLen - 1){
				pgVar06++;
				$(this).parents('#six').find('.slide-box').animate({'left':'-=100%'},300);
				$(this).parents('#six').find('.btn-prev').show();
				if(pgVar06 == boxLen - 1){
					$(this).parents('#six').find('.btn-next').hide();
				}
				console.log(pgVar06);
			};
		} else {
			if(pgVar06 > 0){
				pgVar06--;
				$(this).parents('#six').find('.slide-box').animate({'left':'+=100%'},300);
			};
			$(this).parents('#six').find('.btn-next').show();
			if(pgVar06 == 0){
				$(this).parents('#six').find('.btn-prev').hide();
			}
		};
	});

	// 일곱번째 슬라이드 영역
	var pgVar07 = 0;
	$('#seven button').click( function(){
		var boxLen = $(this).parents('#seven').find('.slide-box').length;
		if($(this).hasClass('btn-next')){
			if(pgVar07 < boxLen - 1){
				pgVar07++;
				$(this).parents('#seven').find('.slide-box').animate({'left':'-=100%'},300);
				$(this).parents('#seven').find('.btn-prev').show();
				if(pgVar07 == boxLen - 1){
					$(this).parents('#seven').find('.btn-next').hide();
				}
				console.log(pgVar07);
			};
		} else {
			if(pgVar07 > 0){
				pgVar07--;
				$(this).parents('#seven').find('.slide-box').animate({'left':'+=100%'},300);
			};
			$(this).parents('#seven').find('.btn-next').show();
			if(pgVar07 == 0){
				$(this).parents('#seven').find('.btn-prev').hide();
			}
		};
	});

	resizeSlide();
	$(window).resize(resizeSlide);
	function resizeSlide(){
		$('.slide-box').each(function(){
			var idx = $(this).index();
			var boxW = $(this).outerWidth();
			$(this).css({'left':boxW*idx});
		});
	}
});
</script>

</body>
</html>
